{"version":3,"sources":["uni-app:///main.js","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?6abf","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?5b13","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?3da6","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?2189","uni-app:///pages/TUI-Login/login.vue","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?edef","webpack:///E:/HBuilderProjects/uni_classAttendance04/pages/TUI-Login/login.vue?f298"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","getTokenStorage","data","userID","hidden","btnValue","btnDisabled","privateAgree","phone","code","sessionID","second","path","lastTime","countryIndicatorStatus","country","indicatorValue","headerHeight","statusBarHeight","showlogin","components","props","onLoad","uni","key","success","that","onShow","methods","loginWithToken","url","onBack","bindUserIDInput","onAgreePrivateProtocol","linkToPrivacyTreaty","linkToUserAgreement","login","logger","name","ext1","ext2","ext3","app","userSig","userInfo"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACqCtnB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;EAAAC;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;EACAC;EAEAC;IACA;IACA;MACAV;IACA;IACAW;MACA;MACAC;MACAC;QACAC;UACAhB;QACA;MACA;IACA;IACAa;MACAC;MACAtB;IACA;EACA;EAEAyB;EAEAC;IACAC;MACAN;QACAO;MACA;IACA;IAEAC;MACAR;QACAO;MACA;IACA;IAEA;IACAE;MACA;MACA;QACA7B;MACA;IACA;IAEA8B;MACA;QACA1B;MACA;IACA;IAEA2B;MACA;MACAX;QACAO;MACA;IACA;IAEAK;MACA;MACAZ;QACAO;MACA;IACA;IAEAM;MACA;MACA;MACA;MACAC;MAUAd;QACAe;QACAC;QACAC;QACAC;MACA;MAeAC;QACAC;QACAxC;MACA;MACA;QACAyC;MACA;MACAhD;MACA2B;QACApB;QACAwC;MACA;QACApB;UACAe;UACAC;UACAC;UACAC;QACA;MACA;QACAlB;UACAe;UACAC;UACAC;UACAC;QACA;MACA;;MAEA;;MA2BA;QACAlB;UACAO;QACA;MACA;QACA;QACA;QACA;QACAP;UACAO;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1OA;AAAA;AAAA;AAAA;AAA64B,CAAgB,43BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/TUI-Login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/TUI-Login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=4f72ae55&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=4f72ae55&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f72ae55\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/TUI-Login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=4f72ae55&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<image class=\"background-image\" src=\"/static/static/assets/background.svg\"></image>\r\n\t\t<view class=\"counter-warp\">\r\n\t\t\t<view class=\"header-content\">\r\n\t\t\t\t<image src=\"/static/static/images/im.png\" class=\"icon\"></image>\r\n\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t<view class=\"text-header\">登录 · 即时通信</view>\r\n\t\t\t\t\t<view class=\"text-content\">体验群组聊天，视频对话等IM功能</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box\">\r\n\t\t\t\t<view class=\"list\">\r\n\t\t\t\t\t<view class=\"list-item\">\r\n\t\t\t\t\t\t<label class=\"list-item-label\">用户ID</label>\r\n\t\t\t\t\t\t<input class=\"input\" type=\"text\" placeholder=\"请输入用户名\" @input=\"bindUserIDInput\" placeholder-style=\"color:#BBBBBB;\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"private-protocol-box\">\r\n\t\t\t\t\t<view class=\"private-protocol-switch\" @tap=\"onAgreePrivateProtocol\">\r\n\t\t\t\t\t\t<image v-if=\"privateAgree\" src=\"/static/static/images/selected.png\" lazy-load=\"true\"></image>\r\n\t\t\t\t\t\t<image v-else src=\"/static/static/images/select.png\" lazy-load=\"true\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-box\">\r\n\t\t\t\t\t\t<text>我已阅读并同意</text>\r\n\t\t\t\t\t\t<text class=\"link\" @tap=\"linkToPrivacyTreaty\">《隐私条例》</text>\r\n\t\t\t\t\t\t<text>和</text>\r\n\t\t\t\t\t\t<text class=\"link\" @tap=\"linkToUserAgreement\">《用户协议》</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"login\"><button class=\"loginBtn\" :disabled=\"!privateAgree\" @tap=\"login\">登录</button></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { setTokenStorage } from '../../utils/token';\r\nimport logger from '../../utils/logger';\r\nimport { genTestUserSig } from '../../debug/GenerateTestUserSig.js';\r\nconst { getTokenStorage } = require('../../utils/token.js');\r\nconst app = getApp();\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tuserID: '',\r\n\t\t\thidden: false,\r\n\t\t\tbtnValue: '获取验证码',\r\n\t\t\tbtnDisabled: false,\r\n\t\t\tprivateAgree: false,\r\n\t\t\tphone: '',\r\n\t\t\tcode: '',\r\n\t\t\tsessionID: '',\r\n\t\t\tsecond: 60,\r\n\t\t\tpath: '',\r\n\t\t\tlastTime: 0,\r\n\t\t\tcountryIndicatorStatus: false,\r\n\t\t\tcountry: '86',\r\n\t\t\tindicatorValue: 46,\r\n\t\t\theaderHeight: app.globalData.headerHeight,\r\n\t\t\tstatusBarHeight: app.globalData.statusBarHeight,\r\n\t\t\tshowlogin: false\r\n\t\t};\r\n\t},\r\n\r\n\tcomponents: {},\r\n\tprops: {},\r\n\r\n\tonLoad(option) {\r\n\t\tconst that = this;\r\n\t\tthis.setData({\r\n\t\t\tpath: option.path\r\n\t\t});\r\n\t\tuni.getStorage({\r\n\t\t\t// 获取本地缓存\r\n\t\t\tkey: 'sessionID',\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tthat.setData({\r\n\t\t\t\t\tsessionID: res.data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\tuni.setStorage({\r\n\t\t\tkey: 'path',\r\n\t\t\tdata: option.path\r\n\t\t});\r\n\t},\r\n\r\n\tonShow() {},\r\n\r\n\tmethods: {\r\n\t\tloginWithToken() {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: '../TUI-Index/index'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonBack() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../TUI-Index/TUI-Index'\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t// 输入userID\r\n\t\tbindUserIDInput(e) {\r\n\t\t\tconst val = e.detail.value;\r\n\t\t\tthis.setData({\r\n\t\t\t\tuserID: val\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonAgreePrivateProtocol() {\r\n\t\t\tthis.setData({\r\n\t\t\t\tprivateAgree: !this.privateAgree\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tlinkToPrivacyTreaty() {\r\n\t\t\tconst url = 'https://web.sdk.qcloud.com/document/Tencent-IM-Privacy-Protection-Guidelines.html';\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `../TUI-User-Center/webview/webview?url=${url}&nav=Privacy-Protection`\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tlinkToUserAgreement() {\r\n\t\t\tconst url = 'https://web.sdk.qcloud.com/document/Tencent-IM-User-Agreement.html';\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `../TUI-User-Center/webview/webview?url=${url}&nav=User-Agreement`\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tlogin() {\r\n\t\t\tconst userID = this.userID;\r\n\t\t\tconst userSig = genTestUserSig(userID).userSig;\r\n\t\t\tconst SDKAppID = app.globalData.SDKAppID;\r\n\t\t\tlogger.log(`TUI-login | login  | userSig:${userSig} userID:${userID}`);\r\n\t\t\t// #ifdef  APP-PLUS\r\n\t\t\tuni.$aegis.reportEvent({\r\n\t\t\t    name: 'platform',\r\n\t\t\t    ext1: 'platform-APP',\r\n\t\t\t    ext2: 'uniTuikitExternal',\r\n\t\t\t    ext3: `${SDKAppID}`,\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-WEIXIN  \r\n\t\t\tuni.$aegis.reportEvent({\r\n\t\t\t    name: 'platform',\r\n\t\t\t    ext1: 'platform-MP-WEIXIN',\r\n\t\t\t    ext2: 'uniTuikitExternal',\r\n\t\t\t    ext3: `${SDKAppID}`,\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef H5\r\n\t\t\tuni.$aegis.reportEvent({\r\n\t\t\t    name: 'platform',\r\n\t\t\t    ext1: 'platform-H5',\r\n\t\t\t    ext2: 'uniTuikitExternal',\r\n\t\t\t    ext3: `${SDKAppID}`,\r\n\t\t\t})\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: 'TUIKit 暂不支持 H5 / web ，请使用者自己完成兼容哦～ ',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 3000\r\n\t\t\t});\r\n\t\t\t// #endif\r\n\t\t\tapp.globalData.userInfo = {\r\n\t\t\t\tuserSig,\r\n\t\t\t\tuserID\r\n\t\t\t};\r\n\t\t\tsetTokenStorage({\r\n\t\t\t\tuserInfo: app.globalData.userInfo\r\n\t\t\t});\r\n\t\t\twx.setStorageSync(`TIM_${getApp().SDKAppID}_isTUIKit`, true);\r\n\t\t\tuni.$TUIKit.login({\r\n\t\t\t\tuserID: userID,\r\n\t\t\t\tuserSig: userSig\r\n\t\t\t}).then(() => {\r\n\t\t\t\tuni.$aegis.reportEvent({\r\n\t\t\t\t    name: 'login',\r\n\t\t\t\t    ext1: 'login-success',\r\n\t\t\t\t    ext2: 'uniTuikitExternal',\r\n\t\t\t\t    ext3: `${SDKAppID}`,\r\n\t\t\t\t})\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\tuni.$aegis.reportEvent({\r\n\t\t\t\t    name: 'login',\r\n\t\t\t\t    ext1: `login-failed#error:${error}`,\r\n\t\t\t\t    ext2: 'uniTuikitExternal',\r\n\t\t\t\t    ext3: `${SDKAppID}`,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t// 登录原生插件\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tif(typeof(uni.$TUICallKit) == 'undefined') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '如果需要音视频功能，请集成插件使用真机运行并且自定义基座调试哦～',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000\r\n\t\t\t\t});\r\n\t\t\t\tlogger.error('请使用真机运行并且自定义基座调试，否则影响音视频功能～ 插件地址：https://ext.dcloud.net.cn/plugin?id=9035 , 调试地址：https://nativesupport.dcloud.net.cn/NativePlugin/use/use');\r\n\t\t\t} else {\r\n\t\t\t\tuni.$TUICallKit.login(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSDKAppID: SDKAppID,\r\n\t\t\t\t\t\tuserID: userID,\r\n\t\t\t\t\t\tuserSig: userSig\r\n\t\t\t\t\t},\r\n\t\t\t\t\tres => {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res.msg));\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'login',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// #endif\r\n\t\t\tif (this.path && this.path !== 'undefined') {\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: this.path\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// uni.switchTab({\r\n\t\t\t\t// \turl: '../TUI-Index/index'\r\n\t\t\t\t// });\r\n        uni.navigateTo({\r\n          url: '/pages/TUI-Index/index'\r\n        })\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n<style scoped>\r\n@import './login.css';\r\n</style>\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=4f72ae55&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=4f72ae55&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1679384573384\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}